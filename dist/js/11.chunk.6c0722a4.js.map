{"version":3,"sources":["webpack:///./src/views/systemManage/roleList.vue?5fe3","webpack:///./src/views/systemManage/roleList.vue?986a","webpack:///./src/views/systemManage/roleList.vue?17e6","webpack:///./src/views/systemManage/roleList.vue?7212","webpack:///./src/views/systemManage/roleList.vue?8543","webpack:///src/views/systemManage/roleList.vue","webpack:///./src/views/systemManage/roleList.vue"],"names":["exports","___CSS_LOADER_API_IMPORT___","push","module","i","content","locals","add","default","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","visible","dialogVisible","width","close","label","staticStyle","model","value","form","name","callback","$$v","$set","expression","_v","ref","data","permisssionMenu","props","defaultProps","slot","on","click","type","confirm","modifyStatus","roleName","onChange","confirmModify","addRole","userData","list","border","color","prop","scopedSlots","_u","key","fn","scope","size","$event","modify","row","id","status","layout","background","limit","total","changePage","prev","next","_withStripped","pages","children","permissionList","roleId","created","getUserList","mounted","getPermissionMenu","methods","getRolePermission","anode","checked","findchildren","parent","fnode","isLeaf","indeterminate","$refs","tree","setCheckedKeys","page","components","component","options","__file"],"mappings":"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","file":"js/11.chunk.6c0722a4.js","sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".roleContent[data-v-14505c45]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.roleContent .addRole[data-v-14505c45]{-ms-flex-item-align:end;align-self:flex-end;border:1px solid #f7961c;padding:7px 20px;border-radius:4px;margin:15px 0;cursor:pointer}.roleContent .sort-content[data-v-14505c45]{height:900px;margin-top:10px}.roleContent .sort-content .pagination[data-v-14505c45]{margin-top:15px}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--4-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roleList.vue?vue&type=style&index=0&id=14505c45&lang=scss&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"16d3fe58\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--4-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roleList.vue?vue&type=style&index=0&id=14505c45&lang=scss&scoped=true&\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--4-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roleList.vue?vue&type=style&index=0&id=14505c45&lang=scss&scoped=true&\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","import mod from \"-!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/dist/cjs.js??ref--4-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roleList.vue?vue&type=style&index=0&id=14505c45&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/dist/cjs.js??ref--4-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roleList.vue?vue&type=style&index=0&id=14505c45&lang=scss&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"roleContent\" },\n    [\n      _c(\n        \"el-dialog\",\n        {\n          attrs: {\n            title: \"添加角色\",\n            visible: _vm.dialogVisible,\n            width: \"600px\",\n            \"before-close\": _vm.close\n          }\n        },\n        [\n          _c(\n            \"el-form\",\n            [\n              _c(\n                \"el-form-item\",\n                { attrs: { label: \"角色名称\" } },\n                [\n                  _c(\"el-input\", {\n                    staticStyle: { width: \"300px\" },\n                    model: {\n                      value: _vm.form.name,\n                      callback: function($$v) {\n                        _vm.$set(_vm.form, \"name\", $$v)\n                      },\n                      expression: \"form.name\"\n                    }\n                  })\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\"el-form-item\", { attrs: { label: \"角色权限\" } }, [\n                _c(\n                  \"div\",\n                  { staticStyle: { \"margin-top\": \"10px\" } },\n                  [\n                    _c(\"el-tree\", {\n                      ref: \"tree\",\n                      staticStyle: { \"margin-left\": \"80px\" },\n                      attrs: {\n                        data: _vm.permisssionMenu,\n                        \"show-checkbox\": \"\",\n                        \"node-key\": \"id\",\n                        props: _vm.defaultProps\n                      }\n                    })\n                  ],\n                  1\n                )\n              ])\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"span\",\n            {\n              staticClass: \"dialog-footer\",\n              attrs: { slot: \"footer\" },\n              slot: \"footer\"\n            },\n            [\n              _c(\"el-button\", { on: { click: _vm.close } }, [_vm._v(\"取 消\")]),\n              _vm._v(\" \"),\n              _c(\n                \"el-button\",\n                { attrs: { type: \"primary\" }, on: { click: _vm.confirm } },\n                [_vm._v(\"确 定\")]\n              )\n            ],\n            1\n          )\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"el-dialog\",\n        {\n          attrs: {\n            title: \"修改角色\",\n            visible: _vm.modifyStatus,\n            width: \"600px\",\n            \"before-close\": _vm.close\n          }\n        },\n        [\n          _c(\n            \"el-form\",\n            [\n              _c(\n                \"el-form-item\",\n                { attrs: { label: \"角色名称\" } },\n                [\n                  _c(\"el-input\", {\n                    staticStyle: { width: \"300px\" },\n                    model: {\n                      value: _vm.form.roleName,\n                      callback: function($$v) {\n                        _vm.$set(_vm.form, \"roleName\", $$v)\n                      },\n                      expression: \"form.roleName\"\n                    }\n                  })\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\"el-form-item\", { attrs: { label: \"角色权限\" } }, [\n                _c(\n                  \"div\",\n                  { staticStyle: { \"margin-top\": \"10px\" } },\n                  [\n                    _c(\"el-tree\", {\n                      ref: \"tree\",\n                      staticStyle: { \"margin-left\": \"80px\" },\n                      attrs: {\n                        data: _vm.permisssionMenu,\n                        \"show-checkbox\": \"\",\n                        \"node-key\": \"id\",\n                        props: _vm.defaultProps\n                      },\n                      on: { \"check-change\": _vm.onChange }\n                    })\n                  ],\n                  1\n                )\n              ])\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"span\",\n            {\n              staticClass: \"dialog-footer\",\n              attrs: { slot: \"footer\" },\n              slot: \"footer\"\n            },\n            [\n              _c(\"el-button\", { on: { click: _vm.close } }, [_vm._v(\"取 消\")]),\n              _vm._v(\" \"),\n              _c(\n                \"el-button\",\n                {\n                  attrs: { type: \"primary\" },\n                  on: { click: _vm.confirmModify }\n                },\n                [_vm._v(\"确 定\")]\n              )\n            ],\n            1\n          )\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"addRole\", on: { click: _vm.addRole } }, [\n        _vm._v(\"\\n    添加角色\\n  \")\n      ]),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticClass: \"sort-content\" },\n        [\n          _c(\n            \"el-table\",\n            {\n              staticStyle: {},\n              attrs: {\n                data: _vm.userData.list,\n                border: \"\",\n                \"header-cell-style\": { \"text-align\": \"center\", color: \"black\" },\n                \"cell-style\": { \"text-align\": \"center\" }\n              }\n            },\n            [\n              _c(\"el-table-column\", { attrs: { prop: \"id\", label: \"序号\" } }),\n              _vm._v(\" \"),\n              _c(\"el-table-column\", {\n                attrs: { prop: \"name\", label: \"角色账户名称\" }\n              }),\n              _vm._v(\" \"),\n              _c(\"el-table-column\", {\n                attrs: { label: \"状态\", prop: \"desStatus\" }\n              }),\n              _vm._v(\" \"),\n              _c(\"el-table-column\", {\n                attrs: { prop: \"created_at\", label: \"创建时间\" }\n              }),\n              _vm._v(\" \"),\n              _c(\n                \"el-table-column\",\n                {\n                  attrs: { width: \"250px\" },\n                  scopedSlots: _vm._u([\n                    {\n                      key: \"default\",\n                      fn: function(scope) {\n                        return [\n                          _c(\n                            \"el-button\",\n                            {\n                              attrs: { size: \"mini\" },\n                              on: {\n                                click: function($event) {\n                                  return _vm.modify(scope.row.id)\n                                }\n                              }\n                            },\n                            [_vm._v(\"\\n            修改\\n          \")]\n                          ),\n                          _vm._v(\" \"),\n                          _c(\"el-switch\", {\n                            staticStyle: { \"margin-left\": \"30px\" },\n                            attrs: {\n                              \"active-text\": \"启用\",\n                              \"inactive-text\": \"禁用\"\n                            },\n                            model: {\n                              value: scope.row.status,\n                              callback: function($$v) {\n                                _vm.$set(scope.row, \"status\", $$v)\n                              },\n                              expression: \"scope.row.status\"\n                            }\n                          })\n                        ]\n                      }\n                    }\n                  ])\n                },\n                [\n                  _c(\n                    \"template\",\n                    { attrs: { \"slot-scope\": _vm.scope }, slot: \"header\" },\n                    [_vm._v(\"\\n          操作\\n        \")]\n                  )\n                ],\n                2\n              )\n            ],\n            1\n          )\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticClass: \"pagination\" },\n        [\n          _c(\"el-pagination\", {\n            attrs: {\n              layout: \"prev,pager,next\",\n              background: \"\",\n              \"page-size\": _vm.limit,\n              total: _vm.userData.total\n            },\n            on: {\n              \"current-change\": _vm.changePage,\n              \"prev-click\": _vm.prev,\n              \"next-click\": _vm.next\n            }\n          })\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/happypack/loader.js?id=babel!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roleList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/happypack/loader.js?id=babel!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roleList.vue?vue&type=script&lang=js&\"","<template>\r\n  <div class=\"roleContent\">\r\n    <el-dialog\r\n      title=\"添加角色\"\r\n      :visible=\"dialogVisible\"\r\n      width=\"600px\"\r\n      :before-close=\"close\"\r\n    >\r\n      <el-form>\r\n        <el-form-item label=\"角色名称\">\r\n          <el-input style=\"width: 300px\" v-model=\"form.name\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"角色权限\">\r\n          <div style=\"margin-top: 10px\">\r\n            <el-tree\r\n              style=\"margin-left: 80px\"\r\n              ref=\"tree\"\r\n              :data=\"permisssionMenu\"\r\n              show-checkbox\r\n              node-key=\"id\"\r\n              :props=\"defaultProps\"\r\n            />\r\n          </div>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"close\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"confirm\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <el-dialog\r\n      title=\"修改角色\"\r\n      :visible=\"modifyStatus\"\r\n      width=\"600px\"\r\n      :before-close=\"close\"\r\n    >\r\n      <el-form>\r\n        <el-form-item label=\"角色名称\">\r\n          <el-input style=\"width: 300px\" v-model=\"form.roleName\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"角色权限\">\r\n          <div style=\"margin-top: 10px\">\r\n            <el-tree\r\n              style=\"margin-left: 80px\"\r\n              ref=\"tree\"\r\n              @check-change=\"onChange\"\r\n              :data=\"permisssionMenu\"\r\n              show-checkbox\r\n              node-key=\"id\"\r\n              :props=\"defaultProps\"\r\n            />\r\n          </div>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"close\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"confirmModify\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <div class=\"addRole\" @click=\"addRole\">\r\n      添加角色\r\n    </div>\r\n    <div class=\"sort-content\">\r\n      <el-table\r\n        :data=\"userData.list\"\r\n        border\r\n        style=\"width=100%\"\r\n        :header-cell-style=\"{ 'text-align': 'center', color: 'black' }\"\r\n        :cell-style=\"{ 'text-align': 'center' }\"\r\n      >\r\n        <el-table-column prop=\"id\" label=\"序号\" />\r\n        <el-table-column prop=\"name\" label=\"角色账户名称\" />\r\n        <el-table-column label=\"状态\" prop=\"desStatus\" />\r\n        <el-table-column prop=\"created_at\" label=\"创建时间\" />\r\n        <el-table-column width=\"250px\">\r\n          <template slot=\"header\" :slot-scope=\"scope\">\r\n            操作\r\n          </template>\r\n          <template slot-scope=\"scope\">\r\n            <el-button size=\"mini\" @click=\"modify(scope.row.id)\">\r\n              修改\r\n            </el-button>\r\n            <el-switch\r\n              style=\"margin-left: 30px\"\r\n              v-model=\"scope.row.status\"\r\n              active-text=\"启用\"\r\n              inactive-text=\"禁用\"\r\n            />\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n    <div class=\"pagination\">\r\n      <el-pagination\r\n        layout=\"prev,pager,next\"\r\n        background\r\n        :page-size=\"limit\"\r\n        :total=\"userData.total\"\r\n        @current-change=\"changePage\"\r\n        @prev-click=\"prev\"\r\n        @next-click=\"next\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      scope: \"scope\",\r\n      dialogVisible: false,\r\n      modifyStatus: false,\r\n      userData: [],\r\n      limit: 10,\r\n      pages: 1,\r\n      defaultProps: {\r\n        children: \"_child\",\r\n        label: \"name\",\r\n      },\r\n      //  权限菜单\r\n      permisssionMenu: [],\r\n      // 角色权限列表\r\n      permissionList: [],\r\n      form: {},\r\n      // 角色id\r\n      roleId: \"\",\r\n    };\r\n  },\r\n  created() {\r\n    this.getUserList();\r\n  },\r\n  mounted() {\r\n    this.getPermissionMenu();\r\n  },\r\n\r\n  methods: {\r\n    // 获取角色列表\r\n    async getUserList() {\r\n      try {\r\n        let res = await this.axios.get(\"/admin/getRoleList\", {\r\n          params: {\r\n            limit: this.limit,\r\n            pages: this.pages,\r\n          },\r\n        });\r\n        this.userData = Object.assign(res.data, {\r\n          list: res.data.list.map((item) => {\r\n            return Object.assign(item, {\r\n              status: item.status === 1 ? true : false,\r\n              desStatus: item.status === 1 ? \"启用\" : \"禁用\",\r\n            });\r\n          }),\r\n        });\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    addRole() {\r\n      this.dialogVisible = true;\r\n    },\r\n    // 上一页\r\n    prev() {\r\n      this.pages--;\r\n      this.getUserList();\r\n    },\r\n    // 获取权限菜单\r\n    async getPermissionMenu() {\r\n      try {\r\n        let res = await this.axios.get(\"/admin/menu\", {\r\n          params: {\r\n            // 获取节点\r\n            type: 2,\r\n          },\r\n        });\r\n        this.permisssionMenu = res.data;\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    // 添加角色\r\n    async confirm() {\r\n      let selectedNodes = this.$refs.tree\r\n        .getCheckedKeys()\r\n        .concat(this.$refs.tree.getHalfCheckedKeys());\r\n      try {\r\n        let res = await this.axios.post(\"/admin/addrole\", {\r\n          name: this.form.name,\r\n          path: selectedNodes.join(\",\"),\r\n        });\r\n        this.close();\r\n        this.$message.success({\r\n          message: res.msg,\r\n        });\r\n        this.pages = 1;\r\n        this.getUserList();\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    // 修改\r\n    modify(id) {\r\n      this.getRolePermission(id);\r\n      this.roleId = id;\r\n      this.modifyStatus = true;\r\n    },\r\n    // 获取角色权限\r\n    async getRolePermission(id) {\r\n      try {\r\n        let res = await this.axios.get(\"/admin/getrole\", {\r\n          params: {\r\n            \"role_id\": id,\r\n          },\r\n        });\r\n        this.$nextTick(() => {\r\n          // 数据回显,解决数据半选问题\r\n          res.data.path.forEach((item) => {\r\n            let node = this.$refs.tree.getNode(item);\r\n            if (node.isLeaf) {\r\n              this.$refs.tree.setChecked(node, true);\r\n            }else{\r\n               node.indeterminate = true;\r\n               node.checked = true;\r\n            }\r\n          });\r\n        });\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    onChange(a) {\r\n      const anode = this.$refs.tree.getNode(a);\r\n      !anode.checked ? this.findchildren(anode.parent) : \"\";\r\n    },\r\n    findchildren(current) {\r\n      const fnode = this.$refs.tree.getNode(current);\r\n      if (!fnode.isLeaf) {\r\n        fnode.indeterminate = true;\r\n        fnode.checked = true;\r\n      }\r\n    },\r\n    // 修改角色权限\r\n    async confirmModify() {\r\n      let selectedNodes = this.$refs.tree\r\n        .getCheckedKeys()\r\n        .concat(this.$refs.tree.getHalfCheckedKeys());\r\n      try {\r\n        let res = await this.axios.post(\"/admin/uprole\", {\r\n          \"role_id\": this.roleId,\r\n          name: this.form.roleName,\r\n          path: selectedNodes.join(\",\"),\r\n        });\r\n        this.$message.success({\r\n          message: res.msg,\r\n        });\r\n        this.form = {};\r\n        this.close();\r\n        this.getUserList();\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    close() {\r\n      this.dialogVisible = false;\r\n      this.modifyStatus = false;\r\n      this.form = {};\r\n      this.$refs.tree.setCheckedKeys([]);\r\n    },\r\n    // 翻页\r\n    changePage(page) {\r\n      this.pages = page;\r\n      this.getUserList();\r\n    },\r\n    // 下一页\r\n    next() {\r\n      this.pages++;\r\n      this.getUserList();\r\n    },\r\n  },\r\n  components: {},\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.roleContent {\r\n  display: flex;\r\n  flex-direction: column;\r\n  .addRole {\r\n    align-self: flex-end;\r\n    border: 1px solid #f7961c;\r\n    padding: 7px 20px;\r\n    border-radius: 4px;\r\n    margin: 15px 0;\r\n    cursor: pointer;\r\n  }\r\n  .sort-content {\r\n    height: 900px;\r\n    margin-top: 10px;\r\n    .pagination {\r\n      margin-top: 15px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render, staticRenderFns } from \"./roleList.vue?vue&type=template&id=14505c45&scoped=true&\"\nimport script from \"./roleList.vue?vue&type=script&lang=js&\"\nexport * from \"./roleList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./roleList.vue?vue&type=style&index=0&id=14505c45&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"14505c45\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\demo\\\\webpack\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('14505c45')) {\n      api.createRecord('14505c45', component.options)\n    } else {\n      api.reload('14505c45', component.options)\n    }\n    module.hot.accept(\"./roleList.vue?vue&type=template&id=14505c45&scoped=true&\", function () {\n      api.rerender('14505c45', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/views/systemManage/roleList.vue\"\nexport default component.exports"],"sourceRoot":""}