(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"96yE":function(t,e,a){var s=a("Vf7H");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a("SZ7m").default)("f946cd8a",s,!1,{})},OL0G:function(t,e,a){"use strict";var s=a("96yE");a.n(s).a},Vf7H:function(t,e,a){(e=a("JPst")(!1)).push([t.i,".manager-container[data-v-546f5a2c]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.manager-container .width[data-v-546f5a2c]{width:300px}.manager-container .add[data-v-546f5a2c]{-ms-flex-item-align:end;align-self:flex-end;border:1px solid #f7961c;padding:7px 20px;border-radius:4px;margin:15px 0;cursor:pointer}.manager-container .sort-content[data-v-546f5a2c]{height:700px}.manager-container .sort-content .pagination[data-v-546f5a2c]{margin-top:15px}\n",""]),t.exports=e},"sr/I":function(t,e,a){"use strict";a.r(e);function s(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"manager-container"},[s("el-dialog",{attrs:{visible:a.dialogVisible,title:"添加账户","before-close":a.close,width:"600px"}},[s("el-form",{attrs:{"label-width":"60px"}},[s("el-form-item",{attrs:{label:"用户名"}},[s("el-input",{staticClass:"width",model:{value:a.form.uName,callback:function(t){a.$set(a.form,"uName",t)},expression:"form.uName"}})],1),a._v(" "),s("el-form-item",{attrs:{label:"密码"}},[s("el-input",{staticClass:"width",model:{value:a.form.pwd,callback:function(t){a.$set(a.form,"pwd",t)},expression:"form.pwd"}})],1),a._v(" "),s("el-form-item",{attrs:{label:"角色"}},[s("el-select",{model:{value:a.form.id,callback:function(t){a.$set(a.form,"id",t)},expression:"form.id"}},a._l(a.roleList,function(t,e){return s("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1)],1)],1),a._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:a.close}},[a._v("取 消")]),a._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:a.add}},[a._v("确 定")])],1)],1),a._v(" "),s("el-dialog",{attrs:{visible:a.modifyStatus,title:"修改账户","before-close":a.close,width:"600px"}},[s("el-form",{attrs:{"label-width":"60px"}},[s("el-form-item",{attrs:{label:"用户名"}},[s("el-input",{staticClass:"width",model:{value:a.form.uName,callback:function(t){a.$set(a.form,"uName",t)},expression:"form.uName"}})],1),a._v(" "),s("el-form-item",{attrs:{label:"密码"}},[s("el-input",{staticClass:"width",model:{value:a.form.pwd,callback:function(t){a.$set(a.form,"pwd",t)},expression:"form.pwd"}})],1),a._v(" "),s("el-form-item",{attrs:{label:"角色"}},[s("el-select",{model:{value:a.form.id,callback:function(t){a.$set(a.form,"id",t)},expression:"form.id"}},a._l(a.roleList,function(t,e){return s("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1)],1)],1),a._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:a.close}},[a._v("取 消")]),a._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:a.confirmModify}},[a._v("确 定")])],1)],1),a._v(" "),s("div",{staticClass:"add",on:{click:function(t){a.dialogVisible=!0}}},[a._v("\n    添加账号\n  ")]),a._v(" "),s("div",{staticClass:"sort-content"},[s("el-table",{staticStyle:{},attrs:{data:a.managerList.list,border:"","header-cell-style":{"text-align":"center",color:"black"},"cell-style":{"text-align":"center"}}},[s("el-table-column",{attrs:{prop:"id",label:"序号"}}),a._v(" "),s("el-table-column",{attrs:{prop:"user_name",label:"角色账户名称"}}),a._v(" "),s("el-table-column",{attrs:{label:"角色",prop:"role_id"}}),a._v(" "),s("el-table-column",{attrs:{label:"状态",prop:"desStatus"}}),a._v(" "),s("el-table-column",{attrs:{prop:"created_at",label:"创建时间","show-overflow-tooltip":!0}}),a._v(" "),s("el-table-column",{attrs:{width:"250px"},scopedSlots:a._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{size:"mini"},on:{click:function(t){return a.modify(e.row.id)}}},[a._v("\n            修改\n          ")]),a._v(" "),s("el-switch",{staticStyle:{"margin-left":"30px"},attrs:{"active-text":"启用","inactive-text":"禁用"},on:{change:function(t){return a.onChange(e.row.id)}},model:{value:e.row.status,callback:function(t){a.$set(e.row,"status",t)},expression:"scope.row.status"}})]}}])},[s("template",{attrs:{"slot-scope":a.scope},slot:"header"},[a._v("\n          操作\n        ")])],2)],1)],1),a._v(" "),s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{layout:"prev,pager,next",background:"","page-size":a.limit,total:a.managerList.total},on:{"current-change":a.changePage,"prev-click":a.prev,"next-click":a.next}})],1)],1)}s._withStripped=!0;var n=a("o0o1"),r=a.n(n),i=a("yXPU"),o=a.n(i),l={data:function(){return{scope:"scope",pages:1,limit:9,dialogVisible:!1,modifyStatus:!1,managerList:{},roleList:[],form:{}}},created:function(){this.getManagerList(),this.getRoleList()},methods:{getManagerList:function(){var a=this;return o()(r.a.mark(function t(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.axios.get("/admin/getAdmin",{params:{pages:a.pages,limit:a.limit}});case 3:e=t.sent,a.managerList=Object.assign(e.data,{list:e.data.list.map(function(t){return Object.assign(t,{status:1===t.status,desStatus:1===t.status?"启用":"禁用"})})}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}))()},getRoleList:function(){var a=this;return o()(r.a.mark(function t(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.axios.get("/admin/getRoleList");case 3:e=t.sent,a.roleList=e.data.list,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}))()},onChange:function(e){var a=this;return o()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.axios.post("/admin/updateaccountSatte",{id:e});case 3:a.getManagerList(),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0);case 9:case"end":return t.stop()}},t,null,[[0,6]])}))()},prev:function(){this.pages--,this.getManagerList()},changePage:function(t){this.pages=t,this.getManagerList()},next:function(){this.pages++,this.getManagerList()},add:function(){var a=this;return o()(r.a.mark(function t(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.axios.post("/admin/addaccount",{user_name:a.form.uName,password:a.form.pwd,role_id:a.form.id});case 3:e=t.sent,a.close(),a.$message.success({message:e.msg}),a.pages=1,a.getManagerList(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0);case 13:case"end":return t.stop()}},t,null,[[0,10]])}))()},modify:function(e){var t=this.managerList.list.find(function(t){return t.id===e});this.form.userId=t.id,this.modifyStatus=!0},confirmModify:function(){var a=this;return o()(r.a.mark(function t(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.axios.post("/admin/updateaccount",{user_name:a.form.uName,user_id:a.form.userId,role_id:a.form.id,password:a.form.pwd});case 3:e=t.sent,a.$message.success({message:e.msg}),a.close(),a.getManagerList(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0);case 12:case"end":return t.stop()}},t,null,[[0,9]])}))()},close:function(){this.form={},this.dialogVisible=!1,this.modifyStatus=!1}},components:{}},c=(a("OL0G"),a("KHd+")),u=Object(c.a)(l,s,[],!1,null,"546f5a2c",null);u.options.__file="src/views/systemManage/managerList.vue";e.default=u.exports}}]);